---
title: "Plot"
author: "CZ"
date: "4/1/2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
#hdf5
```


#hdf5r
```{r}
library(hdf5r)
library(dplyr)
library(cranium)
library(broom)
library(tidyverse)
library(gridExtra)

#test function YAY WORKING
file="Sample/AT_wildtype_101_Probabilities.h5"
read_h5("Sample/AT_wildtype_101_Probabilities.h5") %>%
  tidy()
```




```{r}

ls <- c("101", "102", "104")
file_ls =c("0", "0", "0")

for (i in (1:length(ls))) {
  file_ls[i] = paste("file", ls[i], sep='')
}

file_ls

file_ls[1]<- "Sample/AT_wildtype_101_Probabilities.h5"
file_ls[2] <-  "Sample/AT_wildtype_102_Probabilities.h5"
file_ls[3] <-  "Sample/AT_wildtype_104_Probabilities.h5"

file_ls
tidy_brain_ls <- list()

for (i in (1:length(ls))) {
  tidy_brain_ls[[i]] <- file_ls[i] %>%
  read_h5() %>%
  tidy()
}

ro_brain_ls<-tidy_brain_ls%>%
lapply(reorient)


#1 plot
plotlist <- list()
for (i in (1:1)){
  plotlist[[i]] <- plot2d(ro_brain_ls[[i]], main.sub=paste("Sample", ls[i]))
   # plot(plotlist[[i]])
   # dev.off
  decorate3d
}


#all plot
plotlist <- list()
for (i in (1:length(file_ls))){
  plotlist[[i]] <- plot2d(ro_brain_ls[[i]], mai.sub=paste("Sample", ls[i]))
   # plot(plotlist[[i]])
   # dev.off
}
#do.call(grid.arrange, c(plotlist, ncol = 3))


```



